Documento de Requisitos do Produto (PRD) ‚Äî TechSpeak English

Vers√£o: 1.3
Autor: Gemini
Data: 13 de Agosto de 2025

1. Vis√£o Geral e Resumo

O TechSpeak English √© um aplicativo mobile de aprendizado de ingl√™s projetado especificamente para profissionais da √°rea de tecnologia, como Desenvolvedores de Software e Analistas de QA.
O foco n√£o √© ensinar ingl√™s do zero, mas aprimorar a flu√™ncia e a confian√ßa em situa√ß√µes profissionais: entrevistas de emprego e comunica√ß√£o de tarefas, processos e experi√™ncias do dia a dia de trabalho.

2. O Problema

Profissionais de tecnologia em pa√≠ses n√£o-nativos de ingl√™s enfrentam barreiras lingu√≠sticas que limitam:

Conquistar vagas internacionais: dificuldade em explicar experi√™ncias e solu√ß√µes com clareza durante entrevistas.

Participar de equipes globais: inseguran√ßa para descrever tarefas em daily meetings, code reviews ou discuss√µes t√©cnicas.

Progredir na carreira: falta de flu√™ncia no ingl√™s t√©cnico-corporativo reduz chances de alcan√ßar cargos de lideran√ßa e visibilidade internacional.

Aplicativos de ingl√™s existentes s√£o gen√©ricos e raramente oferecem feedback instant√¢neo e contextualizado com foco em tecnologia.

3. A Solu√ß√£o: TechSpeak

O TechSpeak entrega aprendizado pr√°tico por meio de trilhas contextuais e um coach de conversa√ß√£o com IA.
Pilares:

Aprendizado Contextual ‚Äî M√≥dulos como "Entrevista de Emprego", "Daily Scrum", "Code Review", "Reportando um Bug".

Simula√ß√£o e Feedback Din√¢mico com IA ‚Äî An√°lise de fala em tempo real, avaliando conte√∫do e entrega (pron√∫ncia, ritmo, entona√ß√£o) de forma amig√°vel e did√°tica.

Vocabul√°rio Espec√≠fico ‚Äî Gloss√°rios e exerc√≠cios com termos essenciais de tecnologia (ex.: deployment, repository, test case, staging environment).

4. Personas (P√∫blico-Alvo)

Persona 1 ‚Äî Lucas, Desenvolvedor Pleno

Idade: 28 anos

Objetivo: Trabalhar em uma startup dos EUA (remoto).

Frustra√ß√£o: Nervosismo e pron√∫ncia errada de termos t√©cnicos em entrevistas.

Necessidade: Treinar respostas para perguntas-chave e receber feedback instant√¢neo.

Persona 2 ‚Äî Ana, QA S√™nior

Idade: 32 anos

Objetivo: Liderar equipe de QA no Brasil e √çndia.

Frustra√ß√£o: Entona√ß√£o fraca e inseguran√ßa ao comunicar blockers em reuni√µes.

Necessidade: Falar com clareza e confian√ßa sobre test plans e user stories.

5. Requisitos Funcionais (MVP)

F1: Onboarding Personalizado ‚Äî Avalia n√≠vel de ingl√™s e contexto profissional para criar trilha adaptada.

F2: Trilhas de Aprendizado ‚Äî Conte√∫do segmentado por cen√°rios reais do dia a dia tech.

F3: Li√ß√µes Interativas com Role-Play de IA ‚Äî Simula√ß√£o de di√°logos com respostas guiadas.

F4: Coach de Conversa√ß√£o com IA (Core) ‚Äî Treino de fala em tempo real com an√°lise de pron√∫ncia e entona√ß√£o.

F5: Painel de Progresso ‚Äî Visualiza√ß√£o clara da evolu√ß√£o e recomenda√ß√µes personalizadas.

6. Requisitos N√£o-Funcionais

Design e Identidade Visual

Refer√™ncia: Plataforma Pora

Tema: Light mode principal

Cores: Paleta do Pora para fundo, bot√µes e elementos de destaque

Tipografia: Similar √† usada no Pora (limpa e moderna)

Layout: Minimalista, inspirado no site Pora

Usabilidade: Interface intuitiva, com feedback da IA claro e acess√≠vel

Desempenho

Resposta da IA < 2 segundos em 95% das sess√µes

Processamento de √°udio r√°pido e sem travamentos

Plataformas

Mobile (iOS e Android) no lan√ßamento

Vers√£o Web/PWA no roadmap

Privacidade

Processamento an√¥nimo e seguro dos dados de voz

Consentimento expl√≠cito do usu√°rio

Pilha Tecnol√≥gica

Frontend (Web/PWA): Next.js (App Router)
 
Backend & IA: Python (FastAPI), Node.js, GPT-5
Decis√£o de Escopo (MVP): Adiar integra√ß√£o com Supabase; utilizar mocks e persist√™ncia tempor√°ria (ex.: SQLite/arquivo no backend, armazenamento local no app).
Integra√ß√£o com Supabase: Planejada para o final (p√≥s-MVP), com migra√ß√£o dos dados provis√≥rios.

7. Diferenciais Competitivos

100% focado em tecnologia (Devs, QAs, PMs, Designers, DevOps)

Feedback em tempo real de pron√∫ncia + conte√∫do + entona√ß√£o

Simula√ß√µes adaptativas com IA

Gloss√°rio vivo que aprende com o uso do usu√°rio

8. M√©tricas de Sucesso (KPIs)

Engajamento: ‚â• 3 sess√µes semanais com o Coach de Conversa√ß√£o

Reten√ß√£o: ‚â• 60% (D7) e ‚â• 40% (D30)

Efic√°cia: +15% de melhoria em pron√∫ncia ap√≥s 30 dias

Tempo de Resposta: < 2s para a IA

NPS: ‚â• 50 no primeiro trimestre

9. Roadmap Futuro (P√≥s-MVP)

Novas Trilhas: Code Review, Presenting a Demo, Negotiating Salary

Novos Perfis: PMs, UI/UX, DevOps

An√°lise de Sentimento e Confian√ßa na fala

Simulador de reuni√£o em grupo com IA

Monetiza√ß√£o Freemium: tempo limitado no Coach (free) e acesso ilimitado no Premium

Adicionais:
- Fluxograma:
flowchart TD
    %% ===== IN√çCIO =====
    A[üì± Abrir App] --> B{Checagem de Sess√£o}
    B -->|Logado| C[üè† Home / Dashboard]
    B -->|N√£o logado| D[üëã Onboarding]
    
    %% ===== ONBOARDING =====
    D --> D1[üîí Consentimento de Privacidade de Voz]
    D1 -->|Aceita| D2[üé§ Permiss√£o de Microfone]
    D1 -->|N√£o aceita| D1b[‚ÑπÔ∏è Exibir Motivo & Op√ß√µes sem Voz] --> D3
    D2 -->|Concedida| D3[üë§ Sele√ß√£o de Perfil<br/>Dev/QA/PM/Designer]
    D2 -->|Negada| D2b[‚ö†Ô∏è Orientar habilitar microfone] --> D3
    D3 --> D4[üìä Teste de N√≠vel<br/>listening/speaking]
    D4 --> D5[üéØ Defini√ß√£o de Objetivos<br/>Entrevista/Daily/Code Review]
    D5 --> D6[üõ§Ô∏è Gerar Trilha Inicial<br/>+ Recomenda√ß√µes]
    D6 --> C
    
    %% ===== DASHBOARD =====
    C --> E[üìö Trilhas de Aprendizado]
    C --> F[ü§ñ Coach de Conversa√ß√£o IA]
    C --> G[üìà Painel de Progresso]
    C --> H[üìñ Gloss√°rio Vivo]
    C --> I[‚öôÔ∏è Configura√ß√µes / Plano]
    
    %% ===== TRILHAS =====
    E --> E1[üé≠ Escolher Trilha/Cen√°rio]
    E1 --> E2[üé¨ Li√ß√£o Interativa<br/>Role-Play com IA]
    E2 --> E3{‚ö° Resposta IA < 2s?}
    E3 -->|Sim| E4[‚úÖ Feedback Detalhado<br/>Conte√∫do + Pron√∫ncia + Entona√ß√£o]
    E3 -->|N√£o| E3a[üîÑ Retry/Degradar p/ Texto<br/>+ Aviso de Lat√™ncia]
    E4 --> E5[‚û°Ô∏è Pr√≥xima Li√ß√£o ou<br/>Recomendar Coach]
    E5 --> C
    
    %% ===== COACH =====
    F --> F0{üí≥ Plano do Usu√°rio}
    F0 -->|Free| F0a[‚è∞ Limite Di√°rio<br/>minutos/sess√µes]
    F0 -->|Premium| F1[üéØ Escolher Cen√°rio<br/>Entrevista/Daily/Bug Report]
    F0a --> F1
    F1 --> F2[üó£Ô∏è Conversa de Voz Tempo Real<br/>STT + LLM + TTS]
    F2 --> F3{‚ö° IA respondeu < 2s?}
    F3 -->|Sim| F4[üìä Feedback Instant√¢neo<br/>Pron√∫ncia/Ritmo/Tom]
    F3 -->|N√£o| F3a[üí¨ Fallback Texto +<br/>Sugest√£o de Repetir]
    F4 --> F5{üîí Atingiu Limite Free?}
    F5 -->|N√£o| F6[üìù Registrar M√©tricas +<br/>Sugerir Pr√≥xima Tarefa]
    F5 -->|Sim| F5a[üíé Paywall Leve<br/>‚Üí Upgrade Premium]
    F6 --> C
    F5a --> I
    
    %% ===== PROGRESSO =====
    G --> G1[üìä Ver Evolu√ß√£o por Habilidade<br/>speaking/listening]
    G1 --> G2[üìà Comparar Base vs Atual<br/>+% de melhoria]
    G2 --> G3[üéØ Recomenda√ß√µes Autom√°ticas<br/>Revis√£o/Pr√°tica]
    G3 --> C
    
    %% ===== GLOSS√ÅRIO =====
    H --> H1[üîç Buscar Termos<br/>PR/deploy/rollback...]
    H1 --> H2[üí° Exemplos Contextuais +<br/>Pron√∫ncia Guiada]
    H2 --> H3[‚≠ê Adicionar a Favoritos<br/>Revis√£o Spaced]
    H3 --> C
    
    %% ===== CONFIG / PLANO =====
    I --> I1[‚è±Ô∏è Prefer√™ncias de Estudo<br/>tempo di√°rio, foco]
    I --> I2[üí≥ Gerenciar Plano<br/>Free/Premium]
    I2 --> I2a{üíé Deseja Upgrade?}
    I2a -->|Sim| I2b[üõí Checkout ‚Üí Confirmar]
    I2a -->|N√£o| C
    I2b --> C
    I --> I3[üîê Privacidade & Dados<br/>opt-in/out de uso de voz]
    I3 --> C
    I1 --> C
    
    %% ===== ERROS & EDGE CASES =====
    subgraph ErrorHandling [" üö® Tratamento de Erros "]
        X1[üì° Sem Conex√£o] --> X1a[üì± Modo Offline Limitado<br/>Gloss√°rio/Teoria]
        X2[üé§ STT Falhou] --> X2a[üîß Orientar Ambiente +<br/>Repetir + Alternar p/ Texto]
        X3[‚è±Ô∏è Timeout IA] --> X3a[üîÑ Retry Exponencial +<br/>Mensagem Clara]
        X4[üö´ Microfone Bloqueado] --> X4a[üìã Guia Passo a Passo<br/>p/ Permitir]
    end
    
    %% Conex√µes de erro
    C -.->|Sem internet| X1
    F2 -.->|Erro de √°udio| X2
    E2 -.->|Timeout| X3
    D2 -.->|Sem permiss√£o| X4
    
    %% Estiliza√ß√£o
    classDef startNode fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef mainFeature fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef decision fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef error fill:#ffebee,stroke:#c62828,stroke-width:2px
    classDef premium fill:#f1f8e9,stroke:#33691e,stroke-width:2px
    
    class A startNode
    class C,E,F,G,H,I mainFeature
    class B,E3,F0,F3,F5,I2a decision
    class X1,X2,X3,X4,X1a,X2a,X3a,X4a error
    class F5a,I2b premium
    
- Schema prisma:
// -------------------------------
// Prisma Schema ‚Äî TechSpeak English (MVP)
// Banco: PostgreSQL
// -------------------------------
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// -------- Enums
enum UserRole {
  DEV
  QA
  PM
  UIUX
  DEVOPS
  OTHER
}

enum CEFRLevel {
  A1
  A2
  B1
  B2
  C1
  C2
  UNKNOWN
}

enum Goal {
  INTERVIEW
  DAILY
  CODE_REVIEW
  BUG_REPORT
  PRESENT_DEMO
  NEGOTIATE_SALARY
}

enum PlanType {
  FREE
  PREMIUM
}

enum PlanStatus {
  ACTIVE
  INACTIVE
  CANCELED
  PAST_DUE
}

enum LessonType {
  THEORY        // leitura/teoria
  QUIZ          // checagem r√°pida
  ROLEPLAY      // di√°logo guiado por IA
}

enum ScenarioType {
  INTERVIEW
  DAILY
  BUG_REPORT
  CODE_REVIEW
}

enum SkillType {
  SPEAKING
  LISTENING
  PRONUNCIATION
  RHYTHM
  INTONATION
  CONTENT
}

enum KPIEventType {
  IA_RESPONSE
  COACH_SESSION_START
  COACH_SESSION_END
  LESSON_COMPLETED
  TRACK_COMPLETED
  GLOSSARY_PRACTICE
  PAYWALL_SHOWN
  UPGRADE_CLICK
}

// -------- Usu√°rio, Perfil, Consentimento, Assinatura
model User {
  id            String          @id @default(cuid())
  email         String          @unique
  name          String?
  image         String?
  createdAt     DateTime        @default(now())
  updatedAt     DateTime        @updatedAt

  profile       Profile?
  consent       Consent?
  subscription  Subscription?
  recommendations Recommendation[]
  coachSessions CoachSession[]
  progresses    Progress[]
  kpiEvents     KPIEvent[]
  favorites     FavoriteTerm[]
  termPractices TermPractice[]
}

model Profile {
  id             String     @id @default(cuid())
  userId         String     @unique
  role           UserRole   @default(OTHER)
  level          CEFRLevel  @default(UNKNOWN)
  goals          Goal[]     // m√∫ltiplos objetivos (entrevista, daily, etc.)
  locale         String?    // pt-BR, en-US...
  minutesPerDay  Int?       // prefer√™ncia de estudo
  timezone       String?    // ex: "America/Sao_Paulo"

  // resultados do onboarding / teste inicial
  onboardingScore       Int?        // score geral
  onboardingNotes       String?
  onboardingRaw         Json?       // payload detalhado (itens, acertos)

  user           User      @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model Consent {
  id                 String   @id @default(cuid())
  userId             String   @unique
  voiceProcessing    Boolean  @default(false) // opt-in para uso/an√°lise de voz
  marketing          Boolean  @default(false)
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt

  user               User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model Subscription {
  id                 String     @id @default(cuid())
  userId             String     @unique
  plan               PlanType   @default(FREE)
  status             PlanStatus @default(ACTIVE)
  currentPeriodEnd   DateTime?
  provider           String?    // stripe/paddle/etc.
  providerCustomerId String?
  providerSubId      String?

  createdAt          DateTime   @default(now())
  updatedAt          DateTime   @updatedAt

  user               User       @relation(fields: [userId], references: [id], onDelete: Cascade)
}

// -------- Trilhas, Li√ß√µes e Role-Play
model Track {
  id          String     @id @default(cuid())
  title       String
  description String?
  recommendedRoles UserRole[] // para quem essa trilha √© mais relevante
  level       CEFRLevel? // n√≠vel sugerido
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt

  lessons     Lesson[]

  @@index([level])
}

model Lesson {
  id          String      @id @default(cuid())
  trackId     String
  order       Int         @default(0)
  title       String
  type        LessonType  @default(THEORY)
  content     Json?       // conte√∫do estruturado/rich text
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt

  track       Track       @relation(fields: [trackId], references: [id], onDelete: Cascade)
  roleplay    RolePlayScenario?

  @@index([trackId, order])
}

model RolePlayScenario {
  id         String       @id @default(cuid())
  lessonId   String       @unique
  scenario   ScenarioType
  prompts    Json?        // scripts, intents, varia√ß√µes
  rubric     Json?        // crit√©rios de avalia√ß√£o

  lesson     Lesson       @relation(fields: [lessonId], references: [id], onDelete: Cascade)
}

// -------- Coach de Conversa√ß√£o + Feedback
model CoachSession {
  id             String       @id @default(cuid())
  userId         String
  scenario       ScenarioType
  startedAt      DateTime     @default(now())
  endedAt        DateTime?
  durationSec    Int?         // derivado
  sttProvider    String?      // ex: "openai-realtime"
  ttsProvider    String?
  llmModel       String?      // ex: "gpt-5-realtime"
  avgLatencyMs   Int?         // lat√™ncia m√©dia de resposta da IA
  transcript     String?      // transcri√ß√£o ‚Äúfinal‚Äù limpa
  transcriptRaw  Json?        // resultados STT por turno
  contextMeta    Json?        // device, ru√≠do, rede, etc.

  user           User         @relation(fields: [userId], references: [id], onDelete: Cascade)
  feedbacks      Feedback[]   // m√∫ltiplos snapshots por sess√£o

  @@index([userId, scenario, startedAt])
}

model Feedback {
  id              String     @id @default(cuid())
  coachSessionId  String
  createdAt       DateTime   @default(now())

  // Scores 0-100
  pronunciation   Int?
  rhythm          Int?
  intonation      Int?
  content         Int?

  // Detalhes por trecho/palavra (IPA, erros, recomenda√ß√µes)
  details         Json?
  notes           String?

  coachSession    CoachSession @relation(fields: [coachSessionId], references: [id], onDelete: Cascade)

  @@index([coachSessionId, createdAt])
}

// -------- Progresso & Recomenda√ß√µes
model Progress {
  id          String     @id @default(cuid())
  userId      String
  skill       SkillType
  score       Int        // score atual da habilidade
  delta       Int?       // varia√ß√£o recente
  window      String?    // ex: "7d", "30d"
  createdAt   DateTime   @default(now())

  user        User       @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId, skill, createdAt])
}

model Recommendation {
  id          String   @id @default(cuid())
  userId      String
  text        String   // ‚ÄúFa√ßa 10min no Coach focando em entona√ß√£o no cen√°rio Daily‚Ä¶‚Äù
  targetLessonId String?
  createdAt   DateTime @default(now())

  user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  targetLesson Lesson? @relation(fields: [targetLessonId], references: [id], onDelete: SetNull)

  @@index([userId, createdAt])
}

// -------- Gloss√°rio & Pr√°tica espa√ßada
model GlossaryTerm {
  id          String   @id @default(cuid())
  term        String   @unique
  category    String?  // ex: "process", "git", "testing"
  ipa         String?  // pron√∫ncia
  definition  String?
  examples    Json?    // frases de uso
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model FavoriteTerm {
  id          String   @id @default(cuid())
  userId      String
  termId      String
  createdAt   DateTime @default(now())

  user        User         @relation(fields: [userId], references: [id], onDelete: Cascade)
  term        GlossaryTerm @relation(fields: [termId], references: [id], onDelete: Cascade)

  @@unique([userId, termId])
  @@index([userId])
}

model TermPractice {
  id          String   @id @default(cuid())
  userId      String
  termId      String
  attempts    Int      @default(0)
  lastScore   Int?
  nextReviewAt DateTime?
  history     Json?    // registros de pr√°tica
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  user        User         @relation(fields: [userId], references: [id], onDelete: Cascade)
  term        GlossaryTerm @relation(fields: [termId], references: [id], onDelete: Cascade)

  @@unique([userId, termId])
  @@index([userId, nextReviewAt])
}

// -------- KPIs / Telemetria (para m√©tricas do PRD)
model KPIEvent {
  id          String       @id @default(cuid())
  userId      String?
  type        KPIEventType
  createdAt   DateTime     @default(now())
  payload     Json?        // lat√™ncias, erros, device, rota
  se
